import{c as w,j as e,v as E,r as u,L as P,M as Q,N as R,n as A,ag as me,ah as je,B as h,o as c,I as F,ai as ue,aj as pe,w as X,ak as ge,al as fe,am as be,T as ve,an as ye,X as Ce,Y as ze,Z as Se,ao as Fe,$ as we,a0 as Ie,a1 as ke,W as Ne}from"./index-C4TW4tYM.js";import{m as a,P as Te,a as Ve}from"./index-3DUDL6ch.js";import{u as We,C as l,E as qe,D as Ae,T as He,M as W}from"./CustomInput-foLhZF1p.js";import{C as Ee}from"./CustomSelect-BsftQiJR.js";import{G as r}from"./Grid-BZAI-RHj.js";import{D as Z,V as Pe}from"./Visibility-pSrfOPQz.js";import{A as D}from"./index-Dz6TQoAe.js";import{P as Y,E as Re,a as Me}from"./Phone-DTTKul9E.js";import{C as Be}from"./Close-VPgT99ZN.js";import{C as Le}from"./Chip-DJVjHdDb.js";import{C}from"./listItemIconClasses-fHYOCpyz.js";import{C as z}from"./CardContent-C5keINOZ.js";import{W as G}from"./Work-Di9x3X-m.js";import{T as Oe,a as Ue,b as q,c as d,d as Ye}from"./TableRow-Bi9mOLcp.js";import{F as Ge}from"./index-C0x-TrXZ.js";const $e=w(e.jsx("path",{d:"M20 7h-5V4c0-1.1-.9-2-2-2h-2c-1.1 0-2 .9-2 2v3H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2M9 12c.83 0 1.5.67 1.5 1.5S9.83 15 9 15s-1.5-.67-1.5-1.5S8.17 12 9 12m3 6H6v-.75c0-1 2-1.5 3-1.5s3 .5 3 1.5zm1-9h-2V4h2zm5 7.5h-4V15h4zm0-3h-4V12h4z"})),Je=w(e.jsx("path",{d:"M12 6c1.11 0 2-.9 2-2 0-.38-.1-.73-.29-1.03L12 0l-1.71 2.97c-.19.3-.29.65-.29 1.03 0 1.1.9 2 2 2m4.6 9.99-1.07-1.07-1.08 1.07c-1.3 1.3-3.58 1.31-4.89 0l-1.07-1.07-1.09 1.07C6.75 16.64 5.88 17 4.96 17c-.73 0-1.4-.23-1.96-.61V21c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-4.61c-.56.38-1.23.61-1.96.61-.92 0-1.79-.36-2.44-1.01M18 9h-5V7h-2v2H6c-1.66 0-3 1.34-3 3v1.54c0 1.08.88 1.96 1.96 1.96.52 0 1.02-.2 1.38-.57l2.14-2.13 2.13 2.13c.74.74 2.03.74 2.77 0l2.14-2.13 2.13 2.13c.37.37.86.57 1.38.57 1.08 0 1.96-.88 1.96-1.96V12C21 10.34 19.66 9 18 9"})),Qe=w(e.jsx("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z"})),y=w(e.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"})),H=({form:o,closeForm:m,initialFarmer:s})=>{const j={id:0,age:0,role:"farmer",userName:"",password:"",firstName:"",lastName:"",email:"",dob:"",phoneNumber:"",village:"",taluk:"",district:"",pincode:0,experienceYears:0,farmEquipmentOwned:""},{register:i,handleSubmit:t,reset:x,setValue:b,watch:g}=We({values:s}),f=E(),[I,M]=u.useState(!0),k=v=>{v.isActive=I,console.log("statusss",v),f(s?me(v):je(v)),x(),m()};return u.useEffect(()=>{x(s||j)},[s,x]),console.log("edit deatils",s),e.jsx(e.Fragment,{children:e.jsxs(P,{open:o,onClose:m,maxWidth:"lg",fullWidth:!0,children:[e.jsx(Q,{sx:{color:"darkblue"},children:s?"Update Farmer":"New Farmer"}),e.jsx(R,{sx:{display:"flex",flexDirection:"column"},children:e.jsxs("form",{onSubmit:t(k),children:[e.jsxs(r,{container:!0,spacing:2,children:[e.jsx(r,{size:{xs:12,md:4},children:e.jsx(l,{label:"user Name",name:"userName",register:i,required:!0})}),e.jsx(r,{size:{xs:12,md:4},children:e.jsx(l,{label:"Password",name:"password",register:i,required:!0})}),!s&&e.jsx(r,{size:{xs:12,md:4},children:e.jsx(l,{label:"Confirm Password ",name:"confirmPassword",register:i,required:!0})}),e.jsx(r,{size:{xs:12,md:4},children:e.jsx(l,{label:"First Name",name:"firstName",register:i,required:!0})}),e.jsx(r,{size:{xs:12,md:4},children:e.jsx(l,{label:"last Name",name:"lastName",register:i,required:!0})}),e.jsx(r,{size:{xs:12,md:4},children:e.jsx(l,{label:"Email",name:"email",register:i,required:!0})}),e.jsx(r,{size:{xs:12,md:4},children:e.jsx(l,{label:"Date of Birth ",name:"dob",type:"date",register:i,required:!0})}),e.jsx(r,{size:{xs:12,md:4},children:e.jsx(l,{label:"Age",name:"age",type:"number",register:i,required:!0})}),e.jsx(r,{size:{xs:12,md:4},children:e.jsx(l,{label:"Phone Number",name:"phoneNumber",register:i,required:!0})}),e.jsx(r,{size:{xs:12,md:4},children:e.jsx(l,{label:"Village",name:"village",register:i,required:!0})}),e.jsx(r,{size:{xs:12,md:4},children:e.jsx(l,{label:"Taluk ",name:"taluk",register:i,required:!0})}),e.jsx(r,{size:{xs:12,md:4},children:e.jsx(l,{label:"District ",name:"district",register:i,required:!0})}),e.jsx(r,{size:{xs:12,md:4},children:e.jsx(l,{label:"Pincode ",name:"pincode",register:i,required:!0,type:"number"})}),e.jsx(r,{size:{xs:12,md:4},children:e.jsx(l,{label:"Experience Years ",name:"experienceYears",register:i,required:!0,type:"number"})}),e.jsx(r,{size:{xs:12,md:4},children:e.jsx(l,{label:"Farm Equipment  ",name:"farmEquipmentOwned",register:i,required:!0})}),e.jsx(r,{size:{xs:12,md:4},children:e.jsx(Ee,{label:"Role",name:"role",options:[{value:"farmer",label:"Farmer"},{value:"Admin",label:"Admin"},{value:"common person",label:"Common Person"}],register:i,defaultValue:s?.role||"farmer",required:!0,fullWidth:!0})})]}),e.jsx(Z,{children:e.jsx(A,{type:"submit",variant:"contained",color:"primary",children:s?"Update":"Save"})})]})})]})})},$={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{type:"spring",damping:25,stiffness:300,duration:.5}},exit:{opacity:0,scale:.8,transition:{duration:.3}}},J={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},p={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:300,damping:24}}},S={rest:{scale:1,y:0},hover:{scale:1.02,y:-5,transition:{type:"spring",stiffness:300}}},Xe=({preview:o,closePreview:m,PreviewDetails:s})=>{if(!s)return null;const j=(x,b)=>{const g=x?.charAt(0)||"",f=b?.charAt(0)||"";return(g+f).toUpperCase()||"F"},i=x=>x==="farmer"?"success":"primary",t=({icon:x,label:b,value:g})=>e.jsx(a.div,{variants:p,children:e.jsxs(r,{container:!0,spacing:2,alignItems:"center",sx:{mb:2},children:[e.jsx(r,{size:{xs:1},children:e.jsx(a.div,{whileHover:{scale:1.2,rotate:5},transition:{type:"spring",stiffness:300},children:e.jsx(h,{sx:{color:"primary.main"},children:x})})}),e.jsx(r,{size:{xs:4},children:e.jsx(c,{variant:"body2",color:"text.secondary",fontWeight:"medium",children:b})}),e.jsx(r,{size:{xs:7},children:e.jsx(c,{variant:"body1",fontWeight:"medium",children:g||"Not provided"})})]})});return e.jsx(D,{children:o&&e.jsx(P,{open:o,onClose:m,maxWidth:"md",fullWidth:!0,PaperComponent:a.div,PaperProps:{variants:$,initial:"hidden",animate:"visible",exit:"exit"},sx:{"& .MuiDialog-container":{backdropFilter:"blur(4px)"}},children:e.jsxs(a.div,{variants:$,initial:"hidden",animate:"visible",exit:"exit",children:[e.jsxs(Q,{sx:{background:"linear-gradient(135deg, #1976d2 0%, #115293 100%)",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center",py:2,position:"relative",overflow:"hidden"},children:[e.jsx(a.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},children:e.jsxs(h,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(a.div,{animate:{rotate:[0,10,0]},transition:{duration:2,repeat:1/0},children:e.jsx(Y,{})}),e.jsx(c,{variant:"h6",fontWeight:"bold",children:"Farmer Details"})]})}),e.jsx(a.div,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},children:e.jsx(F,{onClick:m,sx:{color:"white"},size:"small",children:e.jsx(Be,{})})}),e.jsx(a.div,{animate:{rotate:360,transition:{duration:20,repeat:1/0,ease:"linear"}},style:{position:"absolute",top:-50,right:-50,width:100,height:100,border:"2px solid rgba(255,255,255,0.1)",borderRadius:"50%"}})]}),e.jsxs(R,{sx:{p:0,overflow:"hidden"},children:[e.jsx(a.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:e.jsx(h,{sx:{background:"linear-gradient(135deg, #f5f5f5 0%, #e8f5fe 100%)",p:3,borderBottom:"1px solid",borderColor:"grey.200"},children:e.jsxs(r,{container:!0,spacing:3,alignItems:"center",children:[e.jsx(r,{children:e.jsx(a.div,{whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:300},children:e.jsx(ue,{sx:{width:80,height:80,bgcolor:"primary.main",fontSize:"2rem",fontWeight:"bold",border:"4px solid white",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:j(s.firstName,s.lastName)})})}),e.jsx(r,{children:e.jsxs(a.div,{variants:J,initial:"hidden",animate:"visible",children:[e.jsxs(h,{sx:{display:"flex",alignItems:"center",gap:2,mb:1},children:[e.jsx(a.div,{variants:p,children:e.jsxs(c,{variant:"h5",fontWeight:"bold",color:"primary.dark",children:[s.firstName," ",s.lastName]})}),e.jsx(a.div,{whileHover:{scale:1.1},variants:p,children:e.jsx(Le,{label:s.role,color:i(s.role),size:"small",sx:{fontWeight:"bold"}})})]}),e.jsx(a.div,{variants:p,children:e.jsxs(c,{variant:"body1",color:"text.secondary",children:["@",s.userName]})}),s.email&&e.jsx(a.div,{variants:p,children:e.jsx(c,{variant:"body2",color:"primary.main",sx:{mt:.5},children:s.email})})]})})]})})}),e.jsx(a.div,{variants:J,initial:"hidden",animate:"visible",transition:{delay:.5},children:e.jsxs(h,{sx:{p:3},children:[e.jsxs(r,{container:!0,spacing:3,children:[e.jsx(r,{size:{xs:12,md:6},children:e.jsx(a.div,{variants:p,children:e.jsx(a.div,{variants:S,initial:"rest",whileHover:"hover",children:e.jsx(C,{variant:"outlined",sx:{height:"100%",border:"2px solid",borderColor:"grey.100",borderRadius:2,boxShadow:"0 4px 12px rgba(0,0,0,0.05)"},children:e.jsxs(z,{children:[e.jsx(a.div,{whileHover:{x:5},transition:{type:"spring",stiffness:300},children:e.jsxs(h,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[e.jsx($e,{sx:{color:"primary.main"}}),e.jsx(c,{variant:"h6",fontWeight:"bold",color:"primary.dark",children:"Personal Information"})]})}),e.jsx(t,{icon:e.jsx(Je,{fontSize:"small"}),label:"Date of Birth",value:s.dob}),e.jsx(t,{icon:e.jsx(Y,{fontSize:"small"}),label:"Age",value:s.age}),e.jsx(t,{icon:e.jsx(Re,{fontSize:"small"}),label:"Email",value:s.email}),e.jsx(t,{icon:e.jsx(Me,{fontSize:"small"}),label:"Phone",value:s.phoneNumber})]})})})})}),e.jsx(r,{size:{xs:12,md:6},children:e.jsx(a.div,{variants:p,children:e.jsx(a.div,{variants:S,initial:"rest",whileHover:"hover",children:e.jsx(C,{variant:"outlined",sx:{height:"100%",border:"2px solid",borderColor:"grey.100",borderRadius:2,boxShadow:"0 4px 12px rgba(0,0,0,0.05)"},children:e.jsxs(z,{children:[e.jsx(a.div,{whileHover:{x:5},transition:{type:"spring",stiffness:300},children:e.jsxs(h,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[e.jsx(y,{sx:{color:"primary.main"}}),e.jsx(c,{variant:"h6",fontWeight:"bold",color:"primary.dark",children:"Address Details"})]})}),e.jsx(t,{icon:e.jsx(y,{fontSize:"small"}),label:"Village",value:s.village}),e.jsx(t,{icon:e.jsx(y,{fontSize:"small"}),label:"Taluk",value:s.taluk}),e.jsx(t,{icon:e.jsx(y,{fontSize:"small"}),label:"District",value:s.district}),e.jsx(t,{icon:e.jsx(y,{fontSize:"small"}),label:"Pincode",value:s.pincode})]})})})})}),s.farmEquipmentOwned&&s.farmEquipmentOwned.length>0&&e.jsx(r,{size:{xs:12,md:12},children:e.jsx(a.div,{variants:p,children:e.jsx(a.div,{variants:S,initial:"rest",whileHover:"hover",children:e.jsx(C,{variant:"outlined",sx:{border:"2px solid",borderColor:"success.light",borderRadius:2,background:"linear-gradient(135deg, #f8fff8 0%, #f0fff0 100%)"},children:e.jsxs(z,{children:[e.jsxs(h,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[e.jsx(pe,{sx:{color:"success.main"}}),e.jsx(c,{variant:"h6",fontWeight:"bold",color:"success.dark",children:"Farm Equipment Owned"})]}),e.jsx(c,{children:s.farmEquipmentOwned})]})})})})}),s.role==="farmer"&&e.jsx(r,{size:{xs:12,md:12},children:e.jsx(a.div,{variants:p,children:e.jsx(a.div,{variants:S,initial:"rest",whileHover:"hover",children:e.jsx(C,{variant:"outlined",sx:{border:"2px solid",borderColor:"warning.light",borderRadius:2,background:"linear-gradient(135deg, #fffaf0 0%, #fff5e6 100%)"},children:e.jsxs(z,{children:[e.jsx(a.div,{whileHover:{x:5},transition:{type:"spring",stiffness:300},children:e.jsxs(h,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[e.jsx(G,{sx:{color:"warning.main"}}),e.jsx(c,{variant:"h6",fontWeight:"bold",color:"warning.dark",children:"Professional Details"})]})}),e.jsxs(r,{container:!0,spacing:4,children:[e.jsx(r,{size:{xs:12,md:6},children:e.jsx(t,{icon:e.jsx(G,{fontSize:"small"}),label:"Experience",value:s.experienceYears?`${s.experienceYears} years`:"Not provided"})}),e.jsx(r,{size:{xs:12,md:6},children:e.jsx(t,{icon:e.jsx(Qe,{fontSize:"small"}),label:"Member Since",value:s.dob})})]})]})})})})})]}),e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:e.jsx(h,{sx:{mt:3,textAlign:"center"},children:e.jsxs(c,{variant:"body2",color:"text.secondary",children:["ID: ",s.id," â€¢ Last updated:"," ",new Date().toLocaleDateString()]})})})]})})]})]})})})},Ze=()=>{const o=E(),{farmerList:m,searchTerm:s,roleFilter:j,currentPage:i,itemsPerPage:t}=X(n=>n.farmer),x=m.filter(n=>{const V=n.userName.toLowerCase().includes(s.toLowerCase()),he=j==="all"||n.role===j;return V&&he}),b=x.length,g=(i-1)*t,f=x.slice(g,g+t),I=(n,V)=>{o(fe(V+1))},M=n=>{o(ge(parseInt(n.target.value,10)))},[k,v]=u.useState(!1),K=()=>{v(!1)},[_,B]=u.useState(!1),[ee,se]=u.useState(null),re=n=>{se(n),B(!0)},ie=()=>{B(!1)},[ae,L]=u.useState(!1),[ne,te]=u.useState(null),le=n=>{L(!0),te(n)},oe=()=>{L(!1)},[de,N]=u.useState(!1),[O,T]=u.useState(null),ce=()=>{O&&(o(be({id:O.id})),N(!1),T(null))},xe=n=>{N(!0),T(n)},U=()=>{N(!1),T(null)};return e.jsxs(e.Fragment,{children:[e.jsxs(Oe,{children:[e.jsx(Ue,{children:e.jsxs(q,{children:[e.jsx(d,{children:"Name"}),e.jsx(d,{children:"Email"}),e.jsx(d,{children:"Village"}),e.jsx(d,{children:"District"}),e.jsx(d,{children:"role"}),e.jsx(d,{children:"Actions"})]})}),e.jsx(Ye,{children:e.jsx(D,{children:f.length>0?f.map(n=>e.jsxs(q,{component:a.tr,layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[e.jsx(d,{children:n.firstName}),e.jsx(d,{children:n.email}),e.jsx(d,{children:n.village}),e.jsx(d,{children:n.district}),e.jsx(d,{children:n.role}),e.jsxs(d,{children:[e.jsx(F,{size:"small",color:"primary","aria-label":"View",onClick:()=>le(n),children:e.jsx(Pe,{})}),e.jsx(F,{size:"small",color:"warning","aria-label":"edit",onClick:()=>re(n),children:e.jsx(qe,{})}),e.jsx(F,{color:"error","aria-label":"delete",onClick:()=>xe(n),children:e.jsx(Ae,{})})]})]},n.id)):e.jsx(q,{children:e.jsx(d,{colSpan:4,align:"center",sx:{py:3},children:e.jsx(c,{variant:"body1",color:"textSecondary",children:"No farmers found matching your criteria."})})})})})]}),e.jsx(He,{rowsPerPageOptions:[5,10,25],component:"div",count:b,rowsPerPage:t,page:i-1,onPageChange:I,onRowsPerPageChange:M}),e.jsxs(P,{open:de,onClose:U,maxWidth:"xs",fullWidth:!0,children:[e.jsx(R,{children:"Are you sure you want to delete this farmer?"}),e.jsxs(Z,{children:[e.jsx(A,{color:"primary",onClick:U,children:"Cancel"}),e.jsx(A,{color:"error",onClick:ce,children:"Confirm"})]})]}),e.jsx(H,{form:k,closeForm:K,initialFarmer:null}),e.jsx(Xe,{preview:ae,closePreview:oe,PreviewDetails:ne}),e.jsx(H,{form:_,closeForm:ie,initialFarmer:ee})]})},De=()=>{const o=E(),{searchTerm:m,roleFilter:s}=X(i=>i.farmer),j=i=>{o(Fe(i.target.value))};return e.jsx("div",{children:e.jsx(h,{margin:2,children:e.jsxs(r,{container:!0,spacing:2,alignItems:"center",justifyContent:"flex-end",children:[e.jsx(r,{size:{xs:12,sm:6,md:3},children:e.jsx(ve,{label:"Search by Name",value:m,onChange:i=>o(ye(i.target.value)),size:"small",fullWidth:!0})}),e.jsx(r,{size:{xs:12,sm:6,md:3},children:e.jsxs(Ce,{fullWidth:!0,size:"small",children:[e.jsx(ze,{children:"Filter by Role"}),e.jsxs(Se,{value:s,label:"Filter by Role",onChange:j,children:[e.jsx(W,{value:"all",children:"All Roles"}),e.jsx(W,{value:"farmer",children:"Farmer"}),e.jsx(W,{value:"common person",children:"Common Person"})]})]})})]})})})},Ke=()=>e.jsxs(C,{children:[e.jsx(De,{}),e.jsx(we,{}),e.jsx(Ze,{})]}),js=()=>{const o=Ie(),m=ke(o.breakpoints.down("sm")),[s,j]=u.useState(!1),i=()=>{j(!0)},t=()=>{j(!1)};return e.jsxs("div",{children:[e.jsx(Ne,{children:e.jsx("title",{children:"Farmer Join"})}),e.jsx(Te,{children:e.jsx(Ve,{title:"Farmer",btntitle:"Add Farmer",icon:"",onActionClick:i})}),e.jsx(h,{sx:{maxWidth:"95%",mx:m?1:4},children:e.jsx(r,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:0,children:e.jsx(r,{size:{xs:12},children:e.jsx(Ke,{})})})}),e.jsx(Ge,{}),e.jsx(H,{form:s,closeForm:t,initialFarmer:null})]})};export{js as default};
