import{v,w as f,r as p,x as m,j as e,o as l,T as r,y,n as T,z as C,A as b,P as F,C as x}from"./index-C4TW4tYM.js";import{G as o}from"./Grid-BZAI-RHj.js";import{T as L}from"./TableContainer-BnfYqZpi.js";import{T as A,a as k,b as h,c as i,d as D}from"./TableRow-Bi9mOLcp.js";const j=(a,n)=>Array.from({length:n-a+1},(c,t)=>({day:a+t,morningLitres:0,morningFat:0,morningAmount:0,eveningLitres:0,eveningFat:0,eveningAmount:0})),W=()=>{const a=v(),n=f(t=>t.milkDiary.currentDiary);if(p.useEffect(()=>{n||a(m({milkCenterName:"",milkCenterOwner:"",milkCenterContact:"",dueTimeMorning:"06:00",dueTimeEvening:"18:00",month:"September 2025",perLitreRate:30,firstHalf:j(1,15),secondHalf:j(16,30)}))},[a,n]),!n)return null;const c=t=>{const g=t==="firstHalf"?{litres:n.firstHalfTotalLitres,amount:n.firstHalfTotalAmount}:{litres:n.secondHalfTotalLitres,amount:n.secondHalfTotalAmount};return e.jsx(L,{component:F,sx:{mt:2},children:e.jsxs(A,{size:"small",children:[e.jsx(k,{children:e.jsxs(h,{children:[e.jsx(i,{children:"Day"}),e.jsx(i,{children:"Morning Litres"}),e.jsx(i,{children:"Morning Fat%"}),e.jsx(i,{children:"Morning Amount"}),e.jsx(i,{children:"Evening Litres"}),e.jsx(i,{children:"Evening Fat%"}),e.jsx(i,{children:"Evening Amount"})]})}),e.jsxs(D,{children:[n[t].map((s,u)=>e.jsxs(h,{children:[e.jsx(i,{children:s.day}),e.jsx(i,{children:e.jsx(r,{type:"number",size:"small",value:s.morningLitres,onChange:d=>a(x({half:t,dayIndex:u,field:"morningLitres",value:parseFloat(d.target.value)||0}))})}),e.jsx(i,{children:e.jsx(r,{type:"number",size:"small",value:s.morningFat,onChange:d=>a(x({half:t,dayIndex:u,field:"morningFat",value:parseFloat(d.target.value)||0}))})}),e.jsx(i,{children:s.morningAmount.toFixed(2)}),e.jsx(i,{children:e.jsx(r,{type:"number",size:"small",value:s.eveningLitres,onChange:d=>a(x({half:t,dayIndex:u,field:"eveningLitres",value:parseFloat(d.target.value)||0}))})}),e.jsx(i,{children:e.jsx(r,{type:"number",size:"small",value:s.eveningFat,onChange:d=>a(x({half:t,dayIndex:u,field:"eveningFat",value:parseFloat(d.target.value)||0}))})}),e.jsx(i,{children:s.eveningAmount.toFixed(2)})]},s.day)),e.jsxs(h,{sx:{backgroundColor:"#f5f5f5"},children:[e.jsx(i,{colSpan:2,children:"Total Litres"}),e.jsx(i,{colSpan:2,children:g.litres}),e.jsx(i,{colSpan:2,children:"Total Amount"}),e.jsx(i,{children:g.amount.toFixed(2)})]})]})]})})};return e.jsxs("div",{style:{padding:20},children:[e.jsx(l,{variant:"h5",children:"Milk Diary"}),e.jsxs(o,{container:!0,spacing:2,sx:{mt:1},children:[e.jsx(o,{size:{xs:6},children:e.jsx(r,{label:"Milk Center Name",fullWidth:!0,value:n.milkCenterName,onChange:t=>a(m({...n,milkCenterName:t.target.value}))})}),e.jsx(o,{size:{xs:6},children:e.jsx(r,{label:"Owner",fullWidth:!0,value:n.milkCenterOwner,onChange:t=>a(m({...n,milkCenterOwner:t.target.value}))})}),e.jsx(o,{size:{xs:6},children:e.jsx(r,{label:"Contact",fullWidth:!0,value:n.milkCenterContact,onChange:t=>a(m({...n,milkCenterContact:t.target.value}))})}),e.jsx(o,{size:{xs:3},children:e.jsx(r,{label:"Morning Time",type:"time",fullWidth:!0,value:n.dueTimeMorning,onChange:t=>a(m({...n,dueTimeMorning:t.target.value}))})}),e.jsx(o,{size:{xs:3},children:e.jsx(r,{label:"Evening Time",type:"time",fullWidth:!0,value:n.dueTimeEvening,onChange:t=>a(m({...n,dueTimeEvening:t.target.value}))})}),e.jsx(o,{size:{xs:6},children:e.jsx(r,{label:"Month",fullWidth:!0,value:n.month,onChange:t=>a(m({...n,month:t.target.value}))})}),e.jsx(o,{size:{xs:6},children:e.jsx(r,{label:"Rate per Litre",type:"number",fullWidth:!0,value:n.perLitreRate,onChange:t=>a(y(parseFloat(t.target.value)||0))})})]}),e.jsx(l,{variant:"h6",sx:{mt:3},children:"Days 1–15"}),c("firstHalf"),e.jsx(l,{variant:"h6",sx:{mt:3},children:"Days 16–30"}),c("secondHalf"),e.jsx(l,{variant:"h6",sx:{mt:3},children:"Totals"}),e.jsxs(l,{children:["Total Litres: ",n.totalLitres," | Total Amount:"," ",n.totalAmount.toFixed(2)]}),e.jsx(l,{variant:"h6",sx:{mt:3},children:"Grand Totals"}),e.jsxs(l,{children:["1–15 → Litres: ",n.firstHalfTotalLitres," | Amount: ",n.firstHalfTotalAmount.toFixed(2)]}),e.jsxs(l,{children:["16–30 → Litres: ",n.secondHalfTotalLitres," | Amount: ",n.secondHalfTotalAmount.toFixed(2)]}),e.jsxs(l,{sx:{fontWeight:"bold"},children:["Overall → Litres: ",n.totalLitres," | Amount: ",n.totalAmount.toFixed(2)]}),e.jsx(T,{variant:"contained",color:"primary",sx:{mt:3},onClick:()=>{n&&(a(C()),a(b(n)))},children:"Submit Diary"})]})};export{W as default};
