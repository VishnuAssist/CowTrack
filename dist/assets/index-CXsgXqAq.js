import{c as p,j as e,v as b,L as z,M as q,N as T,n as u,av as ee,aw as se,w as E,B as V,T as re,ax as te,ay as H,az as ie,o as C,r as m,I as f,aA as ne,aB as ae,aC as oe,$ as le,a0 as ce,a1 as de,W as me}from"./index-C4TW4tYM.js";import{m as xe,P as he,a as je}from"./index-3DUDL6ch.js";import{u as ue,C as c,E as pe,D as ye,T as ge}from"./CustomInput-foLhZF1p.js";import{G as n}from"./Grid-BZAI-RHj.js";import{D,V as fe}from"./Visibility-pSrfOPQz.js";import{P as ve,E as Ce,a as Pe}from"./Phone-DTTKul9E.js";import{E as be}from"./Event-XE4FMGbP.js";import{T as ze,a as Te,b as v,c as a,d as Ve}from"./TableRow-Bi9mOLcp.js";import{A as De}from"./index-Dz6TQoAe.js";import{C as Ie}from"./listItemIconClasses-fHYOCpyz.js";import{F as we}from"./index-C0x-TrXZ.js";const Se=p(e.jsx("path",{d:"M12 7V3H2v18h20V7zM6 19H4v-2h2zm0-4H4v-2h2zm0-4H4V9h2zm0-4H4V5h2zm4 12H8v-2h2zm0-4H8v-2h2zm0-4H8V9h2zm0-4H8V5h2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8zm-2-8h-2v2h2zm0 4h-2v2h2z"})),Ne=p(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"})),He=p(e.jsx("path",{d:"m21.41 11.58-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58s1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41s-.23-1.06-.59-1.42M5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7"})),qe=p(e.jsx("path",{d:"m22 10-6-6H4c-1.1 0-2 .9-2 2v12.01c0 1.1.9 1.99 2 1.99l16-.01c1.1 0 2-.89 2-1.99zm-7-4.5 5.5 5.5H15z"})),P=({form:o,closeForm:l,initialVisitor:s})=>{const t=b(),{register:i,handleSubmit:d,reset:x}=ue({values:s}),j=h=>{t(s?ee(h):se(h)),x(),l()};return e.jsx("div",{children:e.jsxs(z,{open:o,onClose:l,maxWidth:"lg",fullWidth:!0,children:[e.jsx(q,{sx:{color:"darkblue"},children:s?"Update Visitor":"New Visitor"}),e.jsx(T,{sx:{display:"flex",flexDirection:"column"},children:e.jsxs("form",{onSubmit:d(j),children:[e.jsxs(n,{container:!0,spacing:2,children:[e.jsx(n,{size:{xs:12,md:4},children:e.jsx(c,{label:" Name",name:"name",register:i,required:!0})}),e.jsx(n,{size:{xs:12,md:4},children:e.jsx(c,{label:" Native",name:"native",register:i,required:!0})}),e.jsx(n,{size:{xs:12,md:4},children:e.jsx(c,{label:"Email",name:"email",register:i,required:!0})}),e.jsx(n,{size:{xs:12,md:4},children:e.jsx(c,{label:"Phone Number",name:"contact",register:i,required:!0})}),e.jsx(n,{size:{xs:12,md:4},children:e.jsx(c,{label:"purpose",name:"purpose",register:i,required:!0})}),e.jsx(n,{size:{xs:12,md:4},children:e.jsx(c,{label:"theyProvide",name:"theyProvide",register:i,required:!0})}),e.jsx(n,{size:{xs:12,md:4},children:e.jsx(c,{label:"Request ",name:"theyNeed",register:i,required:!0})}),e.jsx(n,{size:{xs:12,md:4},children:e.jsx(c,{label:"Date Time",name:"dateTime",register:i,required:!0})}),e.jsx(n,{size:{xs:12,md:4},children:e.jsx(c,{label:"address",name:"address",register:i,required:!0})}),e.jsx(n,{size:{xs:12,md:4},children:e.jsx(c,{label:"companyName",name:"companyName",register:i,required:!0})}),e.jsx(n,{size:{xs:12,md:4},children:e.jsx(c,{label:"notes",name:"notes",register:i,required:!0})})]}),e.jsx(D,{children:e.jsx(u,{type:"submit",variant:"contained",color:"primary",children:s?"Update":"Save"})})]})})]})})},Ee=()=>{const o=b(),{searchTerm:l}=E(s=>s.visitor);return e.jsx("div",{children:e.jsx(V,{margin:2,children:e.jsx(n,{container:!0,spacing:2,alignItems:"center",justifyContent:"flex-end",children:e.jsx(n,{size:{xs:12,sm:6,md:3},children:e.jsx(re,{label:"Search by Name",value:l,onChange:s=>o(te(s.target.value)),size:"small",fullWidth:!0})})})})})},Fe=({preview:o,closePreview:l,visitor:s})=>{if(!s)return null;const t=(i,d,x)=>e.jsxs(n,{container:!0,alignItems:"center",spacing:1,sx:{mb:1},children:[e.jsx(n,{children:i}),e.jsxs(n,{children:[e.jsx(C,{variant:"body2",color:"textSecondary",children:d}),e.jsx(C,{variant:"subtitle1",children:x||"-"})]})]});return e.jsxs(z,{open:o,onClose:l,maxWidth:"sm",fullWidth:!0,children:[e.jsx(q,{sx:{bgcolor:"primary.main",color:"white"},children:"Visitor Details"}),e.jsx(T,{dividers:!0,children:e.jsxs(V,{children:[t(e.jsx(ve,{color:"primary"}),"Name",s.name),t(e.jsx(H,{color:"primary"}),"Native",s.native),t(e.jsx(Ce,{color:"primary"}),"Email",s.email),t(e.jsx(Pe,{color:"primary"}),"Contact",s.contact),t(e.jsx(He,{color:"primary"}),"Purpose",s.purpose),t(e.jsx(Ne,{color:"primary"}),"They Provide",s.theyProvide),t(e.jsx(ie,{color:"primary"}),"They Need",s.theyNeed),t(e.jsx(be,{color:"primary"}),"Date & Time",s.dateTime),t(e.jsx(H,{color:"primary"}),"Address",s.address),t(e.jsx(Se,{color:"primary"}),"Company",s.companyName),t(e.jsx(qe,{color:"primary"}),"Notes",s.notes)]})}),e.jsx(D,{children:e.jsx(u,{onClick:l,variant:"contained",color:"primary",children:"Close"})})]})},Ae=()=>{const o=b(),{visitorList:l,searchTerm:s,currentPage:t,itemsPerPage:i}=E(r=>r.visitor),d=l.filter(r=>r.name.toLowerCase().includes(s.toLowerCase())),x=d.length,j=(t-1)*i,h=d.slice(j,j+i),F=(r,_)=>{o(ae(_+1))},A=r=>{o(ne(parseInt(r.target.value,10)))},[W,k]=m.useState(!1),[R,I]=m.useState(!1),[B,M]=m.useState(null),L=()=>k(!1),U=r=>{M(r),I(!0)},G=()=>I(!1),[O,w]=m.useState(!1),[Q,$]=m.useState(null),J=r=>{$(r),w(!0)},K=()=>w(!1),[X,y]=m.useState(!1),[S,g]=m.useState(null),Y=()=>{S&&(o(oe({id:S.id})),y(!1),g(null))},Z=r=>{g(r),y(!0)},N=()=>{y(!1),g(null)};return e.jsxs(e.Fragment,{children:[e.jsxs(ze,{children:[e.jsx(Te,{children:e.jsxs(v,{children:[e.jsx(a,{children:"Name"}),e.jsx(a,{children:"Email"}),e.jsx(a,{children:"Contact"}),e.jsx(a,{children:"Purpose"}),e.jsx(a,{children:"Date"}),e.jsx(a,{children:"Actions"})]})}),e.jsx(Ve,{children:e.jsx(De,{children:h.length>0?h.map(r=>e.jsxs(v,{component:xe.tr,layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[e.jsx(a,{children:r.name}),e.jsx(a,{children:r.email}),e.jsx(a,{children:r.contact}),e.jsx(a,{children:r.purpose}),e.jsx(a,{children:r.dateTime}),e.jsxs(a,{children:[e.jsx(f,{size:"small",color:"primary",onClick:()=>J(r),children:e.jsx(fe,{})}),e.jsx(f,{size:"small",color:"warning",onClick:()=>U(r),children:e.jsx(pe,{})}),e.jsx(f,{size:"small",color:"error",onClick:()=>Z(r),children:e.jsx(ye,{})})]})]},r.id)):e.jsx(v,{children:e.jsx(a,{colSpan:6,align:"center",sx:{py:3},children:e.jsx(C,{variant:"body1",color:"textSecondary",children:"No visitors found."})})})})})]}),e.jsx(ge,{rowsPerPageOptions:[5,10,25],component:"div",count:x,rowsPerPage:i,page:t-1,onPageChange:F,onRowsPerPageChange:A}),e.jsxs(z,{open:X,onClose:N,maxWidth:"xs",fullWidth:!0,children:[e.jsx(T,{children:"Are you sure you want to delete this visitor?"}),e.jsxs(D,{children:[e.jsx(u,{onClick:N,children:"Cancel"}),e.jsx(u,{color:"error",onClick:Y,children:"Confirm"})]})]}),e.jsx(P,{form:W,closeForm:L,initialVisitor:null}),e.jsx(P,{form:R,closeForm:G,initialVisitor:B}),e.jsx(Fe,{preview:O,closePreview:K,visitor:Q})]})},We=()=>e.jsx("div",{children:e.jsxs(Ie,{children:[e.jsx(Ee,{}),e.jsx(le,{}),e.jsx(Ae,{})]})}),Ke=()=>{const o=ce(),l=de(o.breakpoints.down("sm")),[s,t]=m.useState(!1),i=()=>{t(!0)},d=()=>{t(!1)};return e.jsxs("div",{children:[e.jsx(me,{children:e.jsx("title",{children:"Visitor Registration"})}),e.jsx(he,{children:e.jsx(je,{title:"Visitor Registration",btntitle:"Add Visitor",icon:"",onActionClick:i})}),e.jsx(V,{sx:{maxWidth:"95%",mx:l?1:4},children:e.jsx(n,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:0,children:e.jsx(n,{size:{xs:12},children:e.jsx(We,{})})})}),e.jsx(we,{}),e.jsx(P,{form:s,closeForm:d,initialVisitor:null})]})};export{Ke as default};
